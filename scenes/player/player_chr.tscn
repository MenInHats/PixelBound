[gd_scene load_steps=24 format=3 uid="uid://cbnceug4d3ouf"]

[ext_resource type="Script" uid="uid://cec042wfc6w0y" path="res://scripts/player/player_chr_script.gd" id="1_pjrvx"]
[ext_resource type="Script" uid="uid://boxhn8f0s56up" path="res://components/HealthComponent.gd" id="2_w8b3x"]
[ext_resource type="Script" uid="uid://bop3j6je218tu" path="res://scripts/systems/HurtBoxHitBox/HurtBox.gd" id="3_1m5y5"]
[ext_resource type="Script" uid="uid://cy7yjlof4j2td" path="res://components/ForceKnockbackComponent.gd" id="3_bx1xs"]
[ext_resource type="Script" uid="uid://baclopiouvrwo" path="res://components/CameraComponent.gd" id="4_poh6x"]
[ext_resource type="Script" uid="uid://j6fqda8ed0bx" path="res://components/PlayerAttackDirectionComponent.gd" id="5_hjs2o"]
[ext_resource type="Texture2D" uid="uid://b8x0uj5ixpqsg" path="res://assets/sprites/characters/Bold Man-at-Arms/BoldManAtArms.png" id="6_vktf6"]
[ext_resource type="PackedScene" uid="uid://7x1c58t6aiop" path="res://scenes/ui/EntityComponents/health_bar.tscn" id="7_2r5d6"]
[ext_resource type="PackedScene" uid="uid://bv1ijr4ixhm7n" path="res://scenes/weapons/Sword/weapon_sword.tscn" id="10_hjs2o"]

[sub_resource type="Resource" id="Resource_bx1xs"]
script = ExtResource("2_w8b3x")
maxHealth = 500
curHealth = 500
metadata/_custom_type_script = "uid://boxhn8f0s56up"

[sub_resource type="Resource" id="Resource_poh6x"]
script = ExtResource("3_bx1xs")
knockback_strength = 100.0
metadata/_custom_type_script = "uid://cy7yjlof4j2td"

[sub_resource type="Resource" id="Resource_2r5d6"]
script = ExtResource("4_poh6x")
metadata/_custom_type_script = "uid://baclopiouvrwo"

[sub_resource type="Resource" id="Resource_ovkf2"]
script = ExtResource("5_hjs2o")
sword_node_path = NodePath("")
sword_offset = 6.0
metadata/_custom_type_script = "uid://j6fqda8ed0bx"

[sub_resource type="Curve" id="Curve_hjs2o"]
_limits = [0.0, 100.0, 0.0, 1.0]
_data = [Vector2(0, 26.15586), 0.0, 0.0, 0, 0, Vector2(0.99346405, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_vktf6"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AtlasTexture" id="AtlasTexture_hjs2o"]
atlas = ExtResource("6_vktf6")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ovkf2"]
atlas = ExtResource("6_vktf6")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_x2po7"]
atlas = ExtResource("6_vktf6")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_csy51"]
atlas = ExtResource("6_vktf6")
region = Rect2(32, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_2r5d6"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hjs2o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ovkf2")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_x2po7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_csy51")
}],
"loop": true,
"name": &"Walk",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_w8b3x"]
radius = 5.0
height = 18.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pjrvx"]
size = Vector2(8, 16)

[sub_resource type="Resource" id="Resource_vktf6"]
script = ExtResource("2_w8b3x")
metadata/_custom_type_script = "uid://boxhn8f0s56up"

[node name="PlayerChr" type="CharacterBody2D"]
collision_layer = 2
script = ExtResource("1_pjrvx")
health_component = SubResource("Resource_bx1xs")
force_knockback = SubResource("Resource_poh6x")
camera_settings = SubResource("Resource_2r5d6")
plyaer_attack_dir = SubResource("Resource_ovkf2")
speed = 4000

[node name="CPUParticles2D" type="CPUParticles2D" parent="."]
emitting = false
amount = 30
lifetime = 0.55
one_shot = true
explosiveness = 1.0
lifetime_randomness = 0.15
spread = 180.0
gravity = Vector2(0, 0)
initial_velocity_min = 100.0
initial_velocity_max = 100.0
damping_min = 10.0
damping_max = 30.0
damping_curve = SubResource("Curve_hjs2o")
scale_amount_min = 0.8
scale_amount_max = 1.8
scale_amount_curve = SubResource("Curve_vktf6")
color = Color(0.74509805, 0.078431375, 0.16470589, 1)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_2r5d6")
animation = &"Idle"
frame_progress = 0.9229523

[node name="HurtBoxes" type="Area2D" parent="AnimatedSprite2D"]
collision_layer = 2
collision_mask = 8
script = ExtResource("3_1m5y5")
col_layer = 2
col_mask = 8
metadata/_custom_type_script = "uid://bop3j6je218tu"

[node name="HurtBoxCollision" type="CollisionShape2D" parent="AnimatedSprite2D/HurtBoxes"]
shape = SubResource("CapsuleShape2D_w8b3x")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1, 0)
shape = SubResource("RectangleShape2D_pjrvx")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="HealthBar" parent="." instance=ExtResource("7_2r5d6")]
offset_left = -6.0
offset_top = -12.0
offset_right = 5.0
offset_bottom = -10.0
health_component = SubResource("Resource_vktf6")

[node name="WeaponSword" parent="." instance=ExtResource("10_hjs2o")]
